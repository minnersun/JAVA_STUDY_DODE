## 操作DOM

### 常见获取页面元素的方式

##### 根据id获取元素

```JS
var div = document.getElementById('main');
console.log(div);

// 获取到的数据类型 HTMLDivElement，对象都是有类型的
// HTMLDivElement <-- HTMLElement <-- Element  <-- Node  <-- EventTarget
```

##### 根据标签名获取元素

```js
var divs = document.getElementsByTagName('div');
for (var i = 0; i < divs.length; i++) {
  var div = divs[i];
  console.log(div);
}
```

##### 根据name获取元素

```js
var inputs = document.getElementsByName('hobby');
for (var i = 0; i < inputs.length; i++) {
  var input = inputs[i];
  console.log(input);
}
```

##### 根据类名获取元素

```js
var mains = document.getElementsByClassName('main');
for (var i = 0; i < mains.length; i++) {
  var main = mains[i];
  console.log(main);
}
```

##### 根据选择器获取元素

```js
var text = document.querySelector('#text');
console.log(text);

var boxes = document.querySelectorAll('.box');
for (var i = 0; i < boxes.length; i++) {
  var box = boxes[i];
  console.log(box);
}
```







### 案例

##### 设置image标签的图片和宽高

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>minnersun</title>

</head>
<body>
<input type="button" value="显示图片" id="btn"/>
<img src="" alt="" id="im" />
<script>
  var btnObj=document.getElementById("btn");
    
  btnObj.onclick=function () {
    var imObj=document.getElementById("im");
    imObj.src="images/liuyan.jpg";		//设置图片
    
    imObj.width="300";		//设置图片的大小
    imObj.height="400";
  };
</script>
</body>
</html>
```



##### 修改标签内容

> 凡是成对的标签,中间的文本内容,设置的时候,都使用innerText这个属性的方式

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>minnersun</title>

</head>
<body>
<input type="button" value="设置p的内容" id="btn"/>
<p id="p1">我是一个p标签</p>
<script>
    
  //案例:点击按钮,修改p标签的显示内容
  document.getElementById("btn").onclick=function () {
    document.getElementById("p1").innerText="这是一个p";  //根据id获取p标签,设置内容
  };
</script>
</body>
</html>
```



##### 设置a标签的地址和文字

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>minnersun</title>
</head>
<body>
<input type="button" value="显示效果" id="btn"/>
<a id="ak" href="https://www.jiumodiary.com/">鸠摩搜书</a>
<script>
    document.getElementById("btn").onclick = function () {
    var aObj = document.getElementById("ak");	
    aObj.href = "http://www.itcast.cn";		//根据id获取超链接,设置href属性
    aObj.innerText = "传智播客"; 			//根据id获取超链接,设置文字内容
  };

</script>
</body>
</html>
```



##### 更改多个p标签的文字内容

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>$永远的24k纯帅$</title>
</head>
<body>
<input type="button" value="显示效果" id="btn"/>
<div id="dv1">
  <p>哈哈,我又变帅了</p>
  <p>哈哈,我又变帅了</p>
</div>

<div id="dv2">
  <p>嘎嘎</p>
  <p>嘎嘎</p>
</div>
<script>
  //document.getElementsByTagName("标签的名字");返回的是一个伪数组 -本质是Object
  document.getElementById("btn").onclick=function () {
    //根据标签名字获取标签
    var pObjs= document.getElementsByTagName("p"); // 获取所有的p标签
    var pObjs=document.getElementById("dv1").getElementsByTagName("p");	// 获取div1中的p标签
    //循环遍历这个数组
    for(var i=0;i<pObjs.length;i++){
      //每个p标签,设置文字
      pObjs[i].innerText="我们都是p";
    }
  };
</script>
</body>
</html>
```



##### 排他功能

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>$永远的24k纯帅$</title>
</head>
<body>
<input type="button" value="没怀孕"/>
<input type="button" value="没怀孕"/>
<input type="button" value="没怀孕"/>
<input type="button" value="没怀孕"/>
<input type="button" value="没怀孕"/>
<input type="button" value="没怀孕"/>
<script>

  //获取所有的按钮,分别注册点击事件
  var btnObjs = document.getElementsByTagName("input");
  //循环遍历所有的按钮
  for (var i = 0; i < btnObjs.length; i++) {
    //为每个按钮都要注册点击事件
    btnObjs[i].onclick = function () {
      //把所有的按钮的value值设置为默认的值:没怀孕
      for (var j = 0; j < btnObjs.length; j++) {
        btnObjs[j].value = "没怀孕";
      }
      //当前被点击的按钮设置为:怀孕了
      this.value = "怀孕了";
    };
  }
</script>
</body>
</html>
```



##### 禁用文本框输入功能

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>$永远的24k纯帅$</title>
</head>
<body>
<input type="button" value="禁用文本框" id="btn"/>
<input type="text" value="文本框" id="txt"/>
<script>
  //先根据id获取按钮,为按钮注册点击事件,添加事件处理函数
  document.getElementById("btn").onclick=function () {
      //根据id获取文本框,设置disabled属性
    document.getElementById("txt").disabled=true;
  };
</script>
</body>
</html>
```



##### 阻止超链接跳转

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>$永远的24k纯帅$</title>
</head>
<body>

<a href="http://www.baidu.com" id="ak">百度</a>
<script>
  document.getElementById("ak").onclick=function () {
    alert("嘎嘎");
    return false;
  };
</script>
</body>
</html>
```



##### 隔行变色

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>$永远的24k纯帅$</title>
</head>
<body>
<input type="button" value="隔行变色" id="btn"/>
<ul id="uu">
  <li>红旗</li>
  <li>五菱宏光</li>
  <li>奔驰</li>
  <li>兰博基尼</li>
  <li>哈弗</li>
  <li>奥拓</li>
  <li>奥迪</li>
  <li>悍马</li>
</ul>

<script src="common.js"></script>
<script>

  //奇红偶黄
  //点击按钮
  //  my$("btn").onclick=function () {
  //      //获取所有的li标签
  //    var list=my$("uu").getElementsByTagName("li");
  //    for(var i=0;i<list.length;i++){
  //      if(i%2==0){
  //        //偶数
  //        list[i].style.backgroundColor="red";
  //      }else{
  //        //奇数
  //        list[i].style.backgroundColor="yellow";
  //      }
  //    }
  //  };
    
  my$("btn").onclick = function () {
    //获取所有的li标签
    var list = my$("uu").getElementsByTagName("li");
    for (var i = 0; i < list.length; i++) {
      list[i].style.backgroundColor = i % 2 == 0 ? "red" : "yellow";
    }
  };

</script>
</body>
</html>
```



##### innerText和textContent（待续）

