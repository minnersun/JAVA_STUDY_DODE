## shell基础命令

-------

### 查找命令

##### find

> -name	按文件名查询
>
> -perm	按文件权限查询
>
> -size	按文件大小查询
>
> -user	按用户(属组查询)
>
> -type	按文件的类型查询

### swd

> 非交互式文本处理工具

##### 选项

> -e	允许对输入数据，应用多条sed命令进行编辑
>
> -j	表示直接操作源文件

##### 动作

> s	字符串匹配/查找
>
> i	插入
>
> a	追加
>
> d	删除
>
> c	替换
>
> p	打印指定的输出行

##### 案例

> 1.`sed "s/h/H/g" demo.txt`
>
> > 将全文的h替换为H
>
> 2.`sed -e "s/h/H" -e "s/l/L/1" demo.txt`
>
> > 修改全文的h/H，第一个l/L



### grep

> -number	显示匹配上下的n行
>
> -c	只打印匹配的行数
>
> -i	忽略大小写
>
> -n	在匹配的行前面打印行号



### tail

> 通常用于监视问文件的增长

> -F	用于监视文件的增长



### sort

> 将文本的每一行作为一个单位，进行比较
>
> 比较原则是按照ASCLL码值进行比较

> -u	不出现重复的行
>
> -t	指定分段的符号
>
> -r	逆向排序



### cut

> 在文件中进行剪切

> -b	字节
>
> -c	字符
>
> -f	提取第几列
>
> -d	按指定分隔符分隔列 

> 1.`cut -b 11 demo.txt`
>
> > 获取第11个字节
>
> 2.`cut -b 7-9 demo.txt`
>
> > 获取第7-9个字节
>
> 3.`cut -b 11 demo.txt | sort`
>
> > 截取左后一个字节进行排序



### test判断

> -e	该文件是否存在
>
> -f	是否有该文件
>
> -d	是否有该目录
>
> -r	检查文件是否可读
>
> -w	检查文件是否可写
>
> -x	检查文件是否可执行



### [ ]判断符号

> `== 和 ！=`		用于比较字符串
>
> `-eq，-gt，-lt，-le`		用于比较整数
>
> `-a`		逻辑与
>
> `-o`		逻辑或

> 出现`&&，||，<，>`会报错



### shell脚本参数

> `$0`	脚本程序本身
>
> `$1,2..`	代表后面的参数
>
> `$#`	参数的个数
>
> `$@`	代表`$1`,`$2` `$3`,每个变量都是独立的
>
> `$*`	代表`$1 $2 $3`

### if 判断

#### 语法

```shell
		if  [  条件判断  ] 
		  then
		    //命令
		fi
		
		if  [  条件判断  ]; then  
			// 条件成立执行，命令    
		fi

```

#### 案例

```shell
#!/bin/bash
if [ $1 -eq $2 ]
  then
    echo  "${1}=${2}"
fi
if [ $1 -gt $2 ];then
    echo  "${1}>${2}"
fi
if [ $1 -lt $2 ];then
    echo  "${1}<${2}"
fi
```

#### 多分支语法

```shell
	语法：
		if  [  条件1  ];then  
		   条件1成立执行，指令集1   
		else  
		   条件1不成执行指令集2;  
		fi  

	语法：
		if  [  条件1  ];then  
		   条件1成立，执行指令集1
		elif  [  条件2  ];then  
		 条件2成立，执行指令集2   
		else  
		   条件都不成立，执行指令集3 
		fi  

```

案例

```shell
#!/bin/bash
if [ $# -ne 2 ];then
  echo "参数的个数必须是两个" && exit 1
fi
if [ $1 -eq $2 ]
  then
    echo "$1=$2"
elif [ $1 -gt $2 ];then
  echo "$1>$2"
else
  echo "$1<$2"
fi
```



### 函数

#### 语法

```shell
function  name() {
 命令  
}  
```

#### 案例

```shell
function print(){
	ehco "helloworld"
}

print
```



### shell脚本的检查

> -n	不执行，仅检查语法问题
>
> -v	执行前将脚本内容先输入到屏幕上
>
> -x	将使用到的内容显示到屏幕上



### for循环语句

#### 语法

```shell
for 。。。
 do
  	。。。
done
```

#### 案例

```shell
#!/bin/bash
for i in $(seq 1 3 9)
 do
  echo ${i}
 done
```



### 自动化部署系统-无人值守